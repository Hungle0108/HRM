<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add person - HR Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            background: #f8f9fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        .page-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            padding: 20px 40px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding-left: calc(50% - 460px);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .top-bar-content {
            max-width: 930px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a1a1a;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 8px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #f5f5f5;
            color: #333;
        }

        .page-header {
            background: white;
            padding: 40px 40px 20px 40px;
            display: flex;
            justify-content: flex-start;
            padding-left: calc(50% - 470px);
            margin-top: 80px;
        }

        .page-header-content {
            max-width: 600px;
            width: 100%;
            text-align: left;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        .page-subtitle {
            font-size: 1rem;
            color: #6c757d;
            line-height: 1.4;
        }

        .main-container {
            flex: 1;
            display: flex;
            background: white;
            justify-content: center;
            align-items: flex-start;
            padding: 20px 40px 120px 40px;
            gap: 60px;
        }

        .content-area {
            flex: 0 0 auto;
            max-width: 600px;
            width: 100%;
        }

        .sidebar {
            flex: 0 0 auto;
            width: 280px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 30px 25px;
            height: fit-content;
        }

        .sidebar-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 30px;
        }

        .steps-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .step-item {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            font-size: 0.95rem;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 16px;
            font-size: 0.9rem;
        }

        .step-item.active .step-number {
            background: #1a1a1a;
            color: white;
        }

        .step-item.completed .step-number {
            background: #28a745;
            color: white;
        }

        .step-item:not(.active):not(.completed) .step-number {
            background: #e9ecef;
            color: #6c757d;
        }

        .step-item.active .step-text {
            color: #1a1a1a;
            font-weight: 600;
        }

        .step-item:not(.active) .step-text {
            color: #6c757d;
        }

        .help-section {
            margin-top: 40px;
            padding-top: 24px;
            border-top: 1px solid #e9ecef;
        }

        .help-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .form-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 24px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: span 2;
        }

        .form-label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #495057;
            margin-bottom: 8px;
        }

        .form-label.required::after {
            content: " *";
            color: #dc3545;
        }

        .form-input, .form-select {
            padding: 14px 16px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 0.95rem;
            background: white;
            transition: all 0.2s;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #80bdff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .form-input.error {
            border-color: #dc3545;
            background: #fff5f5;
        }

        .error-message {
            font-size: 0.8rem;
            color: #dc3545;
            margin-top: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .error-icon {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 16px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 44px;
        }

        .bottom-navigation {
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 24px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .bottom-nav-content {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn-back {
            background: none;
            border: none;
            color: #6c757d;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 0;
            transition: color 0.2s;
        }

        .btn-back:hover {
            color: #495057;
        }

        .btn-back.disabled {
            color: #d6d8db;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .btn-back.disabled:hover {
            color: #d6d8db;
        }

        .btn-continue {
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-continue:hover {
            background: #333;
            transform: translateY(-1px);
        }

        .btn-continue:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                order: -1;
                padding: 20px 40px;
            }

            .content-area {
                padding: 20px 40px;
            }
        }

        @media (max-width: 768px) {
            .top-bar {
                padding: 16px 20px;
            }

            .page-header {
                padding: 24px 20px;
            }

            .content-area {
                padding: 20px;
            }

            .sidebar {
                padding: 20px;
            }

            .bottom-navigation {
                padding: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-group.full-width {
                grid-column: span 1;
            }
        }

        .dropdown-wrapper {
            position: relative;
            width: 100%;
            display: block;
        }
        .dropdown-wrapper .form-input {
            width: 100% !important;
            min-width: 0;
            box-sizing: border-box;
            display: block;
        }
        #employeeCitizenshipInput,
        #employeeResidenceInput {
            width: 100% !important;
            min-width: 0 !important;
            box-sizing: border-box !important;
            display: block !important;
        }
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            overflow-x: hidden;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 10;
            display: none;
        }
        .dropdown-menu.show {
            display: block;
        }
        .dropdown-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            color: #1f2937;
        }
        .dropdown-item:hover {
            background: #f3f4f6;
        }

        .saved-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.9rem;
        }

        .saved-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 2px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-content">
                <div class="saved-indicator">
                    <div class="saved-icon">✓</div>
                    SAVED
                </div>
                <button class="close-btn">&times;</button>
            </div>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div class="page-header-content">
                <h1 class="page-title">Add person</h1>
                <p class="page-subtitle">Onboard your direct employee</p>
            </div>
        </div>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Content Area -->
            <div class="content-area">
                <form id="employee-form">
                    <div class="form-section">
                        <h3 class="section-title">Team information</h3>
                        
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label required">Group</label>
                                <select class="form-select" required>
                                    <option value="">Select a group</option>
                                    <option value="engineering">Engineering</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="sales">Sales</option>
                                    <option value="hr">Human Resources</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">Employee personal details</h3>
                        
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label required">Personal email</label>
                                <input type="email" class="form-input" required>
                                <div class="error-message" style="display: none;">
                                    <svg class="error-icon" viewBox="0 0 20 20">
                                        <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
                                    </svg>
                                    Email is a required field
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label required">Legal first name</label>
                                <input type="text" class="form-input" required>
                                <div class="error-message" style="display: none;">
                                    <svg class="error-icon" viewBox="0 0 20 20">
                                        <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
                                    </svg>
                                    Legal first name is required
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label required">Legal last name</label>
                                <input type="text" class="form-input" required>
                                <div class="error-message" style="display: none;">
                                    <svg class="error-icon" viewBox="0 0 20 20">
                                        <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
                                    </svg>
                                    Legal last name is required
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label">Work email address (optional)</label>
                                <input type="email" class="form-input">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label">Employee's citizenship (optional)</label>
                                <div class="dropdown-wrapper">
                                    <input type="text" class="form-input" id="employeeCitizenshipInput" autocomplete="off">
                                    <div class="dropdown-menu" id="employeeCitizenshipDropdown"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label required">Country of residence</label>
                                <div class="dropdown-wrapper">
                                    <input type="text" class="form-input" id="employeeResidenceInput" autocomplete="off" required>
                                    <div class="dropdown-menu" id="employeeResidenceDropdown"></div>
                                </div>
                                <small style="color: #6c757d;">Country the employee will be working from</small>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <h3 class="sidebar-title">Steps</h3>
                
                <ol class="steps-list">
                    <li class="step-item active">
                        <div class="step-number">1</div>
                        <div class="step-text">Personal details</div>
                    </li>
                    <li class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-text">Job details</div>
                    </li>
                    <li class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-text">Compensation and dates</div>
                    </li>
                    <li class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-text">Compliance</div>
                    </li>
                    <li class="step-item">
                        <div class="step-number">5</div>
                        <div class="step-text">Benefits and extras</div>
                    </li>
                    <li class="step-item">
                        <div class="step-number">6</div>
                        <div class="step-text">Review</div>
                    </li>
                </ol>

                <div class="help-section">
                    <div class="help-title">
                        Help and support
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-navigation">
            <div class="bottom-nav-content">
                <button type="button" class="btn-back" id="backButton" onclick="window.location.href='/add-people'">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back
                </button>
                <button type="submit" class="btn-continue" form="employee-form">Continue</button>
            </div>
        </div>
    </div>

    <script>
    // Track which fields have been interacted with
    const interactedFields = new Set();
    
    // Track current step (1 = Personal details, 2 = Job details, etc.)
    let currentStep = 1;
    const totalSteps = 6;

    // Function to save form data to sessionStorage
    function saveFormData() {
        const formData = {
            group: document.querySelector('select[class="form-select"]').value,
            personalEmail: document.querySelector('input[type="email"]').value,
            firstName: document.querySelectorAll('input[type="text"]')[0].value,
            lastName: document.querySelectorAll('input[type="text"]')[1].value,
            workEmail: document.querySelectorAll('input[type="email"]')[1].value,
            citizenship: document.getElementById('employeeCitizenshipInput').value,
            residence: document.getElementById('employeeResidenceInput').value
        };
        sessionStorage.setItem('employeeFormStep1', JSON.stringify(formData));
        
        // Show auto-save indicator (if you want to add visual feedback)
        console.log('Form data auto-saved');
    }

    // Function to restore form data from sessionStorage
    function restoreFormData() {
        const savedData = sessionStorage.getItem('employeeFormStep1');
        if (savedData) {
            const formData = JSON.parse(savedData);
            
            // Restore form values
            if (formData.group) document.querySelector('select[class="form-select"]').value = formData.group;
            if (formData.personalEmail) document.querySelector('input[type="email"]').value = formData.personalEmail;
            if (formData.firstName) document.querySelectorAll('input[type="text"]')[0].value = formData.firstName;
            if (formData.lastName) document.querySelectorAll('input[type="text"]')[1].value = formData.lastName;
            if (formData.workEmail) document.querySelectorAll('input[type="email"]')[1].value = formData.workEmail;
            if (formData.citizenship) document.getElementById('employeeCitizenshipInput').value = formData.citizenship;
            if (formData.residence) document.getElementById('employeeResidenceInput').value = formData.residence;
        }
    }

    // Function to clear all form data from sessionStorage
    function clearAllFormData() {
        sessionStorage.removeItem('employeeFormStep1');
        sessionStorage.removeItem('employeeFormStep2');
        sessionStorage.removeItem('employeeFormStep3');
        // Add more steps as they are created
        console.log('All form data cleared');
    }

    // Initialize form data restoration
    restoreFormData();

    // Save form data whenever inputs change (with debouncing to avoid excessive saves)
    let saveTimeout;
    document.addEventListener('input', function(e) {
        if (e.target.matches('input, select')) {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(saveFormData, 300); // Save after 300ms of no input
        }
    });

    // Also save immediately on change for select elements
    document.addEventListener('change', function(e) {
        if (e.target.matches('select')) {
            saveFormData();
        }
    });

    // Clear form data when user closes the form
    window.addEventListener('beforeunload', function(e) {
        // Only clear if user is navigating away from the form process
        if (!window.location.href.includes('/add-employee')) {
            clearAllFormData();
        }
    });

    // Form submission
    document.getElementById('employee-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Basic form validation
        const requiredFields = this.querySelectorAll('[required]');
        let isValid = true;
        
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                showFieldError(field);
                isValid = false;
            } else {
                hideFieldError(field);
            }
        });
        
        if (isValid) {
            // Save form data before proceeding
            saveFormData();
            // Proceed to next step
            window.location.href = '/add-employee-step2';
        }
    });

    // Add hover and blur event listeners to required fields
    document.querySelectorAll('[required]').forEach(input => {
        // Skip dropdown inputs - they should only show errors on form submission
        if (input.id === 'employeeCitizenshipInput' || input.id === 'employeeResidenceInput') {
            return;
        }
        
        let hasBeenHovered = false;

        input.addEventListener('mouseenter', function() {
            hasBeenHovered = true;
        });

        input.addEventListener('blur', function() {
            if (hasBeenHovered && !this.value.trim()) {
                interactedFields.add(this);
                showFieldError(this);
            }
        });

        input.addEventListener('input', function() {
            if (interactedFields.has(this)) {
                if (this.value.trim()) {
                    hideFieldError(this);
                } else {
                    showFieldError(this);
                }
            }
        });
    });

    function showFieldError(field) {
        field.classList.add('error');
        const errorMsg = field.parentNode.querySelector('.error-message');
        if (errorMsg) {
            errorMsg.style.display = 'flex';
        }
    }

    function hideFieldError(field) {
        field.classList.remove('error');
        const errorMsg = field.parentNode.querySelector('.error-message');
        if (errorMsg) {
            errorMsg.style.display = 'none';
        }
    }

    const countries = [
      'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Australia', 'Austria', 'Azerbaijan',
      'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan', 'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi',
      'Cabo Verde', 'Cambodia', 'Cameroon', 'Canada', 'Central African Republic', 'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo', 'Costa Rica', 'Croatia', 'Cuba', 'Cyprus', 'Czech Republic',
      'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic',
      'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini', 'Ethiopia',
      'Fiji', 'Finland', 'France',
      'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana',
      'Haiti', 'Honduras', 'Hungary',
      'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Ivory Coast',
      'Jamaica', 'Japan', 'Jordan',
      'Kazakhstan', 'Kenya', 'Kiribati', 'Kuwait', 'Kyrgyzstan',
      'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg',
      'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Myanmar',
      'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'North Korea', 'North Macedonia', 'Norway',
      'Oman',
      'Pakistan', 'Palau', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal',
      'Qatar',
      'Romania', 'Russia', 'Rwanda',
      'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Korea', 'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syria',
      'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Tuvalu',
      'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'Uruguay', 'Uzbekistan',
      'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam',
      'Yemen',
      'Zambia', 'Zimbabwe'
    ];
    function setupCountryDropdown(inputId, dropdownId) {
      const input = document.getElementById(inputId);
      const dropdown = document.getElementById(dropdownId);
      function filterCountries(searchText) {
        return countries.filter(country =>
          country.toLowerCase().includes(searchText.toLowerCase())
        );
      }
      function updateDropdown(filteredCountries) {
        dropdown.innerHTML = '';
        if (filteredCountries.length > 0) {
          filteredCountries.forEach(country => {
            const div = document.createElement('div');
            div.className = 'dropdown-item';
            div.textContent = country;
            div.addEventListener('click', () => {
              input.value = country;
              dropdown.classList.remove('show');
            });
            dropdown.appendChild(div);
          });
          dropdown.classList.add('show');
        } else {
          dropdown.classList.remove('show');
        }
      }
      input.addEventListener('input', (e) => {
        const searchText = e.target.value;
        const filteredCountries = filterCountries(searchText);
        updateDropdown(filteredCountries);
      });
      input.addEventListener('focus', () => {
        if (input.value) {
          updateDropdown(filterCountries(input.value));
        } else {
          updateDropdown(countries);
        }
      });
      document.addEventListener('click', (e) => {
        if (!input.contains(e.target) && !dropdown.contains(e.target)) {
          dropdown.classList.remove('show');
        }
      });
    }
    setupCountryDropdown('employeeCitizenshipInput', 'employeeCitizenshipDropdown');
    setupCountryDropdown('employeeResidenceInput', 'employeeResidenceDropdown');
    </script>
</body>
</html> 